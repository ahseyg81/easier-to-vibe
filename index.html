<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live-v3.7.0</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="interactive-tree.css">
</head>

<body>
    <div class="app-container" id="appContainer">
        <div id="dropOverlay" class="drop-overlay">
            <div class="drop-message">
                Drop File Here<br>
                <small style="font-size:13px; font-weight:400; color:var(--text-secondary);">.zip or code
                    file</small>
            </div>
        </div>

        <div class="left-panel">
            <div class="header">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <div>
                        <h1>Live Editor <span class="badge"
                                style="background:var(--accent-color); color:#fff; border:none;">v3.8.0</span></h1>
                        <p>Run Web, Python or C code.</p>
                    </div>
                    <div class="title-actions">
                        <button class="header-run-btn" id="parseBtn">Run</button>
                        <button id="ornekYukleBtn" class="action-btn" title="Switch Example (Web > Py > C)">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path
                                    d="m12 3-1.9 5.8a2 2 0 0 1-1.3 1.3L3 12l5.8 1.9a2 2 0 0 1 1.3 1.3L12 21l1.9-5.8a2 2 0 0 1 1.3-1.3L21 12l-5.8-1.9a2 2 0 0 1-1.3-1.3Z" />
                                <path d="M5 3v4" />
                                <path d="M3 5h4" />
                                <path d="M19 17v4" />
                                <path d="M17 19h4" />
                            </svg>
                        </button>
                        <button id="undoBtn" class="undo-btn" title="Undo (Ctrl+Z)" disabled>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="19" y1="12" x2="5" y2="12"></line>
                                <polyline points="12 19 5 12 12 5"></polyline>
                            </svg>
                        </button>
                        <button id="redoBtn" class="undo-btn" title="Redo (Ctrl+Shift+Z)" disabled>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                                <polyline points="12 5 19 12 12 19"></polyline>
                            </svg>
                        </button>
                        <button id="temizleBtn" class="action-btn" title="Clear" disabled>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path
                                    d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                </path>
                                <line x1="10" y1="11" x2="10" y2="17"></line>
                                <line x1="14" y1="11" x2="14" y2="17"></line>
                            </svg>
                        </button>
                        <button id="pasteBtn" class="paste-btn" title="Paste">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2">
                                </path>
                                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                            </svg>
                        </button>
                    </div>
                </div>
                <!-- 
                    VERSION POLICY (Semantic Versioning):
                    ─────────────────────────────────────
                    Major (x.0.0): Complete rewrite, new framework, breaking changes
                    Minor (3.x.0): New features, new panels, significant UI changes
                                   Examples: new language support, collapsible panels, new tools
                    Patch (3.8.x): Bug fixes, small tweaks, spacing adjustments
                                   Examples: CSS fixes, typo corrections, minor layout tweaks
                    
                    Current: v3.8.0
                    Don't bump version for single-line changes.
                    
                    UPDATE LOCATIONS:
                    1. <title> tag (tab title)
                    2. Header badge (next to "Live Editor")
                    3. This comment (Current: vX.X.X)
                -->
            </div>
            <div class="section">
                <textarea class="code-input" id="projectInput"
                    placeholder="Paste in //--- main.py --- or //--- index.html --- format..."></textarea>
                <div style="margin-top:4px; font-size:11px; color:var(--text-secondary);">
                    <span id="editorStats">0 lines • 0 characters</span>
                </div>
            </div>
            <div class="code-resizer" id="codeResizer"></div>
            <!-- FILES COLLAPSIBLE - START (Kaldırılabilir) -->
            <div class="files-wrapper" id="filesWrapper">
                <div class="files-header" id="filesHeader">
                    <div class="files-title">
                        <svg class="chevron" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                        Files
                        <span id="fileBadge" class="badge" style="display:none;">0</span>
                        <button id="sortToggle" class="sort-toggle" title="Toggle sort order">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M11 5h10"></path>
                                <path d="M11 9h7"></path>
                                <path d="M11 13h4"></path>
                                <path d="M3 17l3 3 3-3"></path>
                                <path d="M6 18V4"></path>
                            </svg>
                            <span id="sortLabel">abc</span>
                        </button>
                    </div>
                    <div id="statsBar" class="stats-bar" style="display:none;">
                        <div class="stat">
                            <div class="stat-value" id="fileCount">0</div>
                            <div class="stat-label">Files</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value" id="totalSize">0</div>
                            <div class="stat-label">KB</div>
                        </div>
                    </div>
                </div>
                <div class="files-content" id="fileListContainer">
                    <div class="empty-state">
                        <p><strong>No files yet</strong></p>
                        <p>Paste your project code and parse it.</p>
                    </div>
                </div>
            </div>
            <!-- FILES COLLAPSIBLE - END -->
            <div class="export-wrapper collapsed" id="exportWrapper">
                <div class="export-header" id="exportHeader">
                    <div class="export-title">
                        <svg class="chevron" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                        Export
                    </div>
                </div>
                <div class="export-content">
                    <button class="btn btn-secondary" id="downloadBtn" disabled>Download Project as .zip</button>
                </div>
            </div>
        </div>
        <div class="splitter" id="splitter"></div>
        <div class="right-panel">
            <div class="preview-header">
                <div class="preview-tabs">
                    <button class="tab-btn active" id="tabWeb">Web</button>
                    <button class="tab-btn" id="tabTerminal">Terminal</button>
                </div>
                <div class="preview-actions">
                    <button id="helpBtn" class="help-circle" title="Help">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                    </button>
                    <button class="icon-btn run-btn" id="runCodeBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="5 3 19 12 5 21 5 3"></polygon>
                        </svg>
                        Run
                    </button>
                    <button class="icon-btn icon-only" id="refreshBtn" title="Refresh" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="23 4 23 10 17 10"></polyline>
                            <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                        </svg>
                    </button>
                    <button class="icon-btn icon-only" id="fullscreenBtn" title="Full Screen">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="15 3 21 3 21 9"></polyline>
                            <polyline points="9 21 3 21 3 15"></polyline>
                            <line x1="21" y1="3" x2="14" y2="10"></line>
                            <line x1="3" y1="21" x2="10" y2="14"></line>
                        </svg>
                    </button>
                </div>
            </div>
            <div id="previewContainer" class="preview-container">
                <iframe id="webFrame" class="preview-frame active"
                    sandbox="allow-scripts allow-forms allow-modals allow-same-origin allow-popups allow-pointer-lock"
                    allow="accelerometer; gyroscope; autoplay; fullscreen; xr-spatial-tracking"></iframe>

                <div id="terminalContainer" class="terminal-container">
                    <div id="terminalView" class="terminal-view">
                        <div class="terminal-info">Terminal Ready. Press "Run" to execute code.</div>
                    </div>
                    <div class="stdin-wrapper collapsed" id="stdinWrapper">
                        <div class="stdin-resizer" id="stdinResizer" title="Resize"></div>
                        <div class="stdin-header" id="stdinHeader" title="Open/Close Panel">
                            <div class="stdin-title">
                                <svg class="chevron" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                                Smart Inputs
                            </div>
                            <span class="manual-toggle" id="manualToggle">Manual Edit</span>
                        </div>
                        <div class="stdin-content">
                            <div id="dynamicInputs" class="dynamic-inputs">
                                <div class="empty-inputs-msg">No input() detected in code. Press 'Manual Edit' if
                                    needed.</div>
                            </div>
                            <textarea id="rawStdin" class="raw-stdin"
                                placeholder="Enter data line by line..."></textarea>
                        </div>
                    </div>
                </div>

                <div id="emptyView" class="preview-empty" style="display:none;">
                    <div class="preview-empty-content">
                        <h3>Nothing to preview</h3>
                        <p>Run your code to see the output here</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="helpModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>AI System Instructions</h2><button id="closeHelpModalBtn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div id="ai-command-wrapper">
                    <pre><code>You are a code generator for Live Editor. Output ALL files in a SINGLE code block.

FORMAT:
//--- filename.ext ---
file content here

//--- folder/file.ext ---
files in subfolders use forward slash

EXAMPLE (Web Project):
//--- index.html ---
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;My App&lt;/title&gt;
    &lt;link rel="stylesheet" href="style.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Hello World&lt;/h1&gt;
    &lt;script src="script.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;

//--- style.css ---
body { background: #000; }

EXAMPLE (Python):
//--- main.py ---
name = input("Your name: ")
print(f"Hello {name}!")

RULES:
- Each file starts with //--- filename ---
- Everything in ONE code block
- No explanations between files

---
OPTIONAL: Smart Input Labels (C/C++ only)

For C/C++ projects, add a comment before scanf/cin
to create labeled input fields:

//--- main.c ---
#include <stdio.h>
int main() {
    int age;
    // input("Enter your age:")
    scanf("%d", &age);
    printf("You are %d years old", age);
    return 0;
}

This comment creates an input box.
Python input() labels are detected automatically.
---</code></pre>
                </div>
            </div>
            <div class="modal-footer" style="justify-content: center;">
                <button id="copyCodeBtn" class="btn btn-primary"
                    style="display: inline-flex; align-items: center; gap: 6px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                    Copy
                </button>
            </div>
        </div>
    </div>
    <div id="downloadModal" class="modal-overlay">
        <div class="modal-content" style="max-width: 450px;">
            <div class="modal-header">
                <h2>Download</h2><button id="closeDownloadModalBtn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="projectNameInput">Project Name</label>
                    <input type="text" id="projectNameInput" value="project" placeholder="project-name">
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancelDownloadBtn" class="btn btn-secondary">Cancel</button>
                <button id="confirmDownloadBtn" class="btn btn-primary">Download</button>
            </div>
        </div>
    </div>

    <textarea id="examplePy" style="display: none;">
//--- main.py ---
print("=" * 40)
print("   Welcome to Python Demo!")
print("=" * 40)

name = input("Your name: ")
age = int(input("Your age: "))

print(f"\nHello {name}!")
print(f"You are {age} years old.")

if age >= 18:
    print("Adult access granted.")
else:
    print("Minor access - some features limited.")

print("\n--- Program finished ---")
</textarea>

    <textarea id="exampleC" style="display: none;">
//--- main.c ---
#include <stdio.h>

int main() {
    int a, b;
    
    printf("=== C Calculator ===\n");
    
    // input("First number:")
    scanf("%d", &a);
    
    // input("Second number:")
    scanf("%d", &b);
    
    printf("\nResults:\n");
    printf("Sum: %d\n", a + b);
    printf("Difference: %d\n", a - b);
    printf("Product: %d\n", a * b);
    
    return 0;
}
</textarea>

    <textarea id="exampleWeb" style="display: none;">
//--- index.html ---
<!DOCTYPE html>
<html>
<head>
    <title>Web Demo</title>
</head>
<body>
    <h1>Live Editor Demo</h1>
    <p>This is a multi-file web project!</p>
    <button id="btn">Click Me</button>
    <div id="output"></div>
</body>
</html>

//--- style.css ---
body {
    font-family: system-ui, sans-serif;
    background: linear-gradient(135deg, #1a1a2e, #16213e);
    color: white;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    margin: 0;
}

h1 { font-size: 2.5rem; margin-bottom: 10px; }

button {
    background: #58a6ff;
    color: white;
    border: none;
    padding: 12px 24px;
    font-size: 1rem;
    border-radius: 8px;
    cursor: pointer;
    transition: transform 0.2s;
}

button:hover { transform: scale(1.05); }

#output {
    margin-top: 20px;
    font-size: 1.2rem;
    color: #58a6ff;
}

//--- script.js ---
let count = 0;
document.getElementById('btn').addEventListener('click', () => {
    count++;
    document.getElementById('output').textContent = `Clicked ${count} times!`;
});
</textarea>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="app.js"></script>
</body>

</html>
